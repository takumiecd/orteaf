schema_version: "1.0"

architectures:
  - id: "sm80"
    display_name: "CUDA SM80"
    backend: "cuda"
    metadata:
      description: "Ampere 世代 GPU (A100 など) 向け最適化"
      detect:
        vendor: "nvidia"
        compute_capability: 80

  - id: "sm86"
    display_name: "CUDA SM86"
    backend: "cuda"
    metadata:
      description: "Ampere 世代 GPU (RTX 30 シリーズ) 向け最適化"
      detect:
        vendor: "nvidia"
        compute_capability: 86

  - id: "sm90"
    display_name: "CUDA SM90"
    backend: "cuda"
    metadata:
      description: "Hopper 世代 GPU (H100 など) 向け最適化"
      detect:
        vendor: "nvidia"
        compute_capability: 90

  - id: "m2"
    display_name: "Apple M2 GPU"
    backend: "mps"
    metadata:
      description: "Apple Silicon M2 世代 GPU 向け最適化"
      detect:
        vendor: "apple"
        metal_family: "m2"

  - id: "m3"
    display_name: "Apple M3 GPU"
    backend: "mps"
    metadata:
      description: "Apple Silicon M3 世代 GPU 向け最適化"
      detect:
        vendor: "apple"
        metal_family: "m3"

  - id: "m4"
    display_name: "Apple M4 GPU"
    backend: "mps"
    metadata:
      description: "Apple Silicon M4 世代 GPU 向け最適化"
      detect:
        vendor: "apple"
        metal_family: "m4"

  - id: "zen4"
    display_name: "Zen 4 AVX512"
    backend: "cpu"
    metadata:
      description: "Zen 4 / AVX-512 対応 CPU 向け最適化"
      detect:
        vendor: "amd"
        family: 25
        features: ["avx512"]

  - id: "skylake"
    display_name: "Skylake AVX512"
    backend: "cpu"
    metadata:
      description: "Intel Skylake-X / AVX-512 対応 CPU 向け最適化"
      detect:
        vendor: "intel"
        family: 6
        model: [85]
        features: ["avx512"]

  - id: "apple_m4_pro"
    display_name: "Apple M4 Pro"
    backend: "cpu"
    metadata:
      description: "Apple Silicon M4 Pro アーキテクチャ (Avalanche/Blizzard) 向け最適化"
      detect:
        vendor: "apple"
        machine_ids: ["Mac15,4", "Mac15,6", "Mac15,7", "Mac16,6", "Mac16,7", "Mac16,8"]

  - id: "intel_comet_lake"
    display_name: "Intel Comet Lake"
    backend: "cpu"
    metadata:
      description: "Comet Lake ファミリ (Core i9-10850K など) 向けの AVX2 最適化"
      detect:
        vendor: "intel"
        family: 6
        model: [165, 166]
        features: ["avx2"]
